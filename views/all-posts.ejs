<!DOCTYPE html>
<html lang="en">
	<head>
		<%- include('./partials/head') %>

		<meta name="og:title" content="vanilla blog- All Post" />
		<title>vanilla blog | Blog</title>
	</head>
	<body>
		<%- include('./partials/_header.ejs') %>
		<h1 class="all-posts-title">
			ALL POSTS
			<span class="all-posts-title" id="all-posts-count">(<%=count%>)</span>
		</h1>
		<form class="search-form" action="/posts" method="POST">
			<svg
				id="magnifierglass"
				enable-background="new 0 0 512 512"
				height="512"
				viewBox="0 0 512 512"
				width="512"
				xmlns="http://www.w3.org/2000/svg"
			>
				<g>
					<path
						d="m324.195 282.327-41.868 41.868c-4.057 4.057-10.634 4.057-14.691 0l-26.59-26.59 56.56-56.56 26.59 26.59c4.056 4.057 4.056 10.635-.001 14.692z"
						fill="#2b4d66"
					/>
					<path
						d="m296.232 296.232h47.993v47.993h-47.993z"
						fill="#4a80aa"
						transform="matrix(.707 -.707 .707 .707 -132.643 320.229)"
					/>
					<path
						d="m508.957 467.089-41.868 41.868c-4.057 4.057-10.634 4.057-14.691 0l-136.136-136.135c-4.057-4.057-4.057-10.634 0-14.691l41.868-41.868c4.057-4.057 10.634-4.057 14.691 0l136.135 136.135c4.058 4.056 4.058 10.634.001 14.691z"
						fill="#407093"
					/>
					<path
						d="m508.957 467.089-11.508 11.508-150.826-150.827 11.508-11.508c4.057-4.057 10.634-4.057 14.691 0l136.135 136.135c4.057 4.057 4.057 10.635 0 14.692z"
						fill="#365e7d"
					/>
					<circle cx="159.976" cy="159.976" fill="#407093" r="159.976" />
					<path
						d="m256.72 32.57c20.433 26.867 32.57 60.386 32.57 96.744 0 88.352-71.624 159.976-159.976 159.976-36.358 0-69.877-12.137-96.744-32.57 29.22 38.421 75.412 63.232 127.406 63.232 88.352 0 159.976-71.624 159.976-159.976-.001-51.994-24.812-98.187-63.232-127.406z"
						fill="#365e7d"
					/>
					<circle cx="159.976" cy="159.976" fill="#e4f6ff" r="117.315" />
					<path
						d="m230.821 66.467c14.938 19.685 23.807 44.228 23.807 70.845 0 64.792-52.524 117.315-117.315 117.315-26.617 0-51.16-8.87-70.845-23.807 21.423 28.233 55.334 46.47 93.508 46.47 64.792 0 117.315-52.524 117.315-117.315 0-38.174-18.238-72.084-46.47-93.508z"
						fill="#d3effb"
					/>
				</g>
			</svg>
			<input
				type="text"
				placeholder="Type something..."
				required
				name="filter"
			/>
			<button type="submit" class="earch-form_button">SEARCH</button>
		</form>
		<div class="dorpdown">
			<div class="tagWrapper"></div>
			<div class="dropdown-button">
				BY CATEGORY
				<div class="dropdown-button-arrow"></div>
			</div>
			<% blog.categories.forEach((category)=>{ %>
			<div class="dorpdown-option" value="<%=category.toLowerCase()%>" data-tag="<%=category.toLowerCase()%>">
				<%=category.toLowerCase()%>
			</div>
			<% }) %>
		</div>
		<div class="all-posts-grid all-posts-grid-public">
			<% posts.forEach((post) => { %>

			<div class="post-card">
				<div class="categories-wtapper-filter">
					<% post.category.forEach((categorie)=>{ %>
					<span class="<%=categorie.toLowerCase()%>"></span>
					<% })%>
				</div>
				<img
					src="<%= post.postImage %>"
					alt="image for a post article"
					class="post-card_post-image"
				/>
				<h3 class="post-card_post-title"><%= post.title %></h3>
				<h5 class="post-card_date"><%= post.created %></h5>
				<p class="post-card_constent"><%= post.content %></p>
				<a
					href="/see-post/<%=post._id%>"
					class="post-card_button--read-more"
					>READ MORE</a
				>
			</div>
			<% }) %>
		</div>
		<div class="paggination-buttons">
			<a href="/posts/?skip=<%=less%>" id="load-less"
				><div class="paggination-buttons-less">
					<svg
						xmlns="http://www.w3.org/2000/svg"
						height="24px"
						viewBox="0 0 24 24"
						width="24px"
						fill="#344e41"
					>
						<path d="M0 0h24v24H0V0z" fill="none" opacity=".87" />
						<path
							d="M17.51 3.87L15.73 2.1 5.84 12l9.9 9.9 1.77-1.77L9.38 12l8.13-8.13z"
						/>
					</svg>
				</div>
				SEE LESS</a
			>
			<a href="/posts/?skip=<%=more%>" id="load-more"
				>SEE MORE
				<div class="paggination-buttons-more">
					<svg
						xmlns="http://www.w3.org/2000/svg"
						enable-background="new 0 0 24 24"
						height="24px"
						viewBox="0 0 24 24"
						width="24px"
						fill="#344e41"
					>
						<g><path d="M0,0h24v24H0V0z" fill="none" /></g>
						<g>
							<polygon
								points="6.23,20.23 8,22 18,12 8,2 6.23,3.77 14.46,12"
							/>
						</g>
					</svg></div
			></a>
			<a href="/posts" id="skipt-to-extreme">FIRST PAGE</a>
		</div>
		<div id="paggination-buttons-page">
			Seeing <%=more - 10%> to <%=more%>
		</div>
		<div class="all-posts-separator"></div>
		<%- include('./partials/_footer.ejs') %> <%-
		include('./partials/_scripts.ejs') %>
	</body>
</html>
